function miuSpellchecker(a, b) { if ($(a.textarea).hasClass("spellcheck-editor")) { $(a.textarea).spellchecker("remove") } else { $(a.textarea).spellchecker({ engine: "google", url: "~/JQuerySpellCheckerHandler.ashx", wordlist: { action: "after", element: ".markItUpFooter" }, lang: b, suggestBoxPosition: "above" }).spellchecker("check", function (b) { if (b) { $(a.textarea).spellchecker("remove"); alert("There are no incorrectly spelt words.") } }) } } (function (a) { a.fn.extend({ spellchecker: function (c, d) { return this.each(function () { if (a(this).data("spellchecker") && a(this).data("spellchecker")[c]) { a(this).data("spellchecker")[c](d) } else { a(this).data("spellchecker", new b(this, c && c.constructor === Object && c || null)); c && c.constructor == String && a(this).data("spellchecker")[c](d) } }) } }); var b = function (b, c) { this.options = a.extend({ url: "checkspelling.php", lang: "en", engine: "pspell", addToDictionary: false, wordlist: { action: "after", element: b }, suggestBoxPosition: "below", innerDocument: true }, c || {}); this.$domObj = a(b); this.elements = {}; this.init() }; b.prototype = { init: function () { var b = this; this.createElements(); this.$domObj.addClass("spellcheck-container"); a(document).bind("click", function (c) { !a(c.target).hasClass("spellcheck-word-highlight") && !a(c.target).parents().filter("#spellcheck-suggestbox").length && b.hideBox() }) }, check: function (b) { var c = this, d = this.$domObj.get(0).nodeName, e = "<[^>]+>", f = "^[^a-zA-Z\\u00A1-\\uFFFF]|[^a-zA-Z\\u00A1-\\uFFFF]+[^a-zA-Z\\u00A1-\\uFFFF]|[^a-zA-Z\\u00A1-\\uFFFF]$|\\n|\\t|\\s{2,}"; if (d == "TEXTAREA" || d == "INPUT") { this.type = "textarea"; var g = a.trim(this.$domObj.val().replace(new RegExp(e, "g"), "").replace(new RegExp(f, "g"), " ")) } else { this.type = "html"; var g = a.trim(this.$domObj.text().replace(new RegExp(f, "g"), " ")) } this.postJson(this.options.url, { text: encodeURIComponent(g).replace(/%20/g, "+") }, function (a) { c.type == "html" && c.options.innerDocument ? c.highlightWords(a, b) : c.buildBadwordsBox(a, b) }) }, highlightWords: function (b, c) { if (!b.length) { c(true); return } var d = this, e = this.$domObj.html(); a.each(b, function (a, b) { e = e.replace(new RegExp("([^a-zA-Z\\u00A1-\\uFFFF])(" + b + ")([^a-zA-Z\\u00A1-\\uFFFF])", "g"), '$1<span class="spellcheck-word-highlight">$2</span>$3') }); this.$domObj.html(e).find(".spellcheck-word-highlight").click(function () { d.suggest(this) }); c && c() }, buildBadwordsBox: function (b, c) { if (!b.length) { c(true); return } var d = this, e = []; if (!a("#spellcheck-badwords").length) { a(this.options.wordlist.element)[this.options.wordlist.action](this.elements.$badwords) } else { this.elements.$badwords = a("#spellcheck-badwords") } this.elements.$badwords.empty(); a.each(b, function (b, c) { if (a.inArray(c, e) === -1) { a('<span class="spellcheck-word-highlight">' + c + "</span>").click(function () { d.suggest(this) }).appendTo(d.elements.$badwords).after('<span class="spellcheck-sep">,</span> '); e.push(c) } }); a(".spellcheck-sep:last", d.elements.$badwords).addClass("spellcheck-sep-last"); c && c() }, suggest: function (b) { var c = this, d = a(b), e = d.offset(); this.$curWord = d; if (this.options.innerDocument) { this.elements.$suggestBox = this.elements.$body.find("#spellcheck-suggestbox"); this.elements.$suggestWords = this.elements.$body.find("#spellcheck-suggestbox-words"); this.elements.$suggestFoot = this.elements.$body.find("#spellcheck-suggestbox-foot") } this.elements.$suggestFoot.hide(); this.elements.$suggestBox.stop().hide().css({ opacity: 1, width: "auto", left: e.left + "px", top: this.options.suggestBoxPosition == "above" ? e.top - (d.outerHeight() + 10) + "px" : e.top + d.outerHeight() + "px" }).fadeIn(200); this.elements.$suggestWords.html("<em>Loading..</em>"); this.postJson(this.options.url, { suggest: encodeURIComponent(a.trim(d.text())) }, function (a) { c.buildSuggestBox(a, e) }) }, buildSuggestBox: function (b, c) { var d = this, e = this.$curWord; this.elements.$suggestWords.empty(); for (var f = 0; f < (b.length < 5 ? b.length : 5) ; f++) { this.elements.$suggestWords.append(a('<a href="#">' + b[f] + "</a>").addClass(!f ? "first" : "").click(function () { return false }).mousedown(function (a) { a.preventDefault(); d.replace(this.innerHTML); d.hideBox() })) } !f && this.elements.$suggestWords.append("<em>(no suggestions)</em>"); var g = window.innerHeight ? window.innerHeight : a(window).height(); this.elements.$suggestFoot.show(); d.elements.$suggestBox.css({ top: this.options.suggestBoxPosition == "above" || c.top + e.outerHeight() + this.elements.$suggestBox.outerHeight() > g + 10 ? c.top - (this.elements.$suggestBox.height() + 5) + "px" : c.top + e.outerHeight() + "px", width: "auto", left: this.elements.$suggestBox.outerWidth() + c.left > a("body").width() ? c.left - this.elements.$suggestBox.width() + e.outerWidth() + "px" : c.left + "px" }) }, hideBox: function (a) { this.elements.$suggestBox.fadeOut(250, function () { a && a() }) }, replace: function (a) { switch (this.type) { case "textarea": this.replaceTextbox(a); break; case "html": this.replaceHtml(a); break } }, replaceWord: function (a, b) { return a.replace(new RegExp("([^a-zA-Z\\u00A1-\\uFFFF]?)(" + this.$curWord.text() + ")([^a-zA-Z\\u00A1-\\uFFFF]?)", "g"), "$1" + b + "$3").replace(new RegExp("^(" + this.$curWord.text() + ")([^a-zA-Z\\u00A1-\\uFFFF])", "g"), b + "$2").replace(new RegExp("([^a-zA-Z\\u00A1-\\uFFFF])(" + this.$curWord.text() + ")$", "g"), "$1" + b) }, replaceTextbox: function (a) { this.removeBadword(this.$curWord); this.$domObj.val(this.replaceWord(this.$domObj.val(), a)) }, replaceHtml: function (b) { var c = this.$domObj.find(".spellcheck-word-highlight:contains(" + this.$curWord.text() + ")"); if (c.length) { c.after(b).remove() } else { a(this.$domObj).html(this.replaceWord(a(this.$domObj).html(), b)); this.removeBadword(this.$curWord) } }, ignore: function () { if (this.type == "textarea") { this.removeBadword(this.$curWord) } else { this.$curWord.after(this.$curWord.html()).remove() } }, ignoreAll: function () { var b = this; if (this.type == "textarea") { this.removeBadword(this.$curWord) } else { a(".spellcheck-word-highlight", this.$domObj).each(function () { (new RegExp(b.$curWord.text(), "i")).test(this.innerHTML) && a(this).after(this.innerHTML).remove() }) } }, removeBadword: function (b) { b.next().hasClass("spellcheck-sep") && b.next().remove(); b.remove(); if (!a(".spellcheck-sep", this.elements.$badwords).length) { this.remove() } else { a(".spellcheck-sep:last", this.elements.$badwords).addClass("spellcheck-sep-last") } }, addToDictionary: function () { var a = this; this.hideBox(function () { confirm('Are you sure you want to add the word "' + a.$curWord.text() + '" to the dictionary?') && a.postJson(a.options.url, { addtodictionary: a.$curWord.text() }, function () { a.ignoreAll(); a.check() }) }) }, remove: function (b) { b = b || true; this.elements.$body.find(".spellcheck-word-highlight").each(function () { a(this).after(this.innerHTML).remove() }); this.elements.$body.find("#spellcheck-badwords, #spellcheck-suggestbox-words, #spellcheck-suggestbox-foot, #spellcheck-suggestbox, #spellcheck-focus-helper").remove(); a(this.domObj).removeClass("spellcheck-container"); b && a(this.domObj).data("spellchecker", null) }, postJson: function (b, c, d) { var e = a.ajax({ type: "POST", url: b, data: a.extend(c, { engine: this.options.engine, lang: this.options.lang }), dataType: "json", cache: false, error: function (a, b, c) { alert("Sorry, there was an error processing the request.") }, success: function (a) { d && d(a) } }); return e }, createElements: function () { var b = this; this.elements.$body = this.options.innerDocument ? this.$domObj.parents().filter("html:first").find("body") : a("body"); this.remove(false); this.elements.$suggestWords = a('<div id ="spellcheck-suggestbox-words"></div>'); this.elements.$ignoreWord = a('<a href="#">Ignore Word</a>').click(function (a) { a.preventDefault(); b.ignore(); b.hideBox() }); this.elements.$ignoreAllWords = a('<a href="#">Ignore all</a>').click(function (a) { a.preventDefault(); b.ignoreAll(); b.hideBox() }); this.elements.$ignoreWordsForever = a('<a href="#" title="ignore word forever (add to dictionary)">Ignore forever</a>').click(function (a) { a.preventDefault(); b.addToDictionary(); b.hideBox() }); this.elements.$suggestFoot = a('<div id="spellcheck-suggestbox-foot"></div>').append(this.elements.$ignoreWord).append(this.elements.$ignoreAllWords).append(this.options.engine == "pspell" && b.options.addToDictionary ? this.elements.$ignoreWordsForever : false); this.elements.$badwords = a('<div id="spellcheck-badwords"></div>'); this.elements.$suggestBox = a('<div id="spellcheck-suggestbox"></div>').append(this.elements.$suggestWords).append(this.elements.$suggestFoot).prependTo(this.elements.$body) } } })(jQuery); (function ($) { $.fn.markItUp = function (settings, extraSettings) { var options, ctrlKey, shiftKey, altKey; ctrlKey = shiftKey = altKey = false; options = { id: "", nameSpace: "", root: "", previewInWindow: "", previewAutoRefresh: true, previewPosition: "after", previewTemplatePath: "~/css/templates/preview.html", previewParser: false, previewParserPath: "", previewParserVar: "data", resizeHandle: true, beforeInsert: "", afterInsert: "", onEnter: {}, onShiftEnter: {}, onCtrlEnter: {}, onTab: {}, markupSet: [{}] }; $.extend(options, settings, extraSettings); if (!options.root) { $("script").each(function (a, b) { miuScript = $(b).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/); if (miuScript !== null) { options.root = miuScript[1] } }) } return this.each(function () { function keyPressed(a) { shiftKey = a.shiftKey; altKey = a.altKey; ctrlKey = !(a.altKey && a.ctrlKey) ? a.ctrlKey || a.metaKey : false; if (a.type === "keydown") { if (ctrlKey === true) { li = $('a[accesskey="' + String.fromCharCode(a.keyCode) + '"]', header).parent("li"); if (li.length !== 0) { ctrlKey = false; setTimeout(function () { li.triggerHandler("mouseup") }, 1); return false } } if (a.keyCode === 13 || a.keyCode === 10) { if (ctrlKey === true) { ctrlKey = false; markup(options.onCtrlEnter); return options.onCtrlEnter.keepDefault } else if (shiftKey === true) { shiftKey = false; markup(options.onShiftEnter); return options.onShiftEnter.keepDefault } else { markup(options.onEnter); return options.onEnter.keepDefault } } if (a.keyCode === 9) { if (shiftKey == true || ctrlKey == true || altKey == true) { return false } if (caretOffset !== -1) { get(); caretOffset = $$.val().length - caretOffset; set(caretOffset, 0); caretOffset = -1; return false } else { markup(options.onTab); return options.onTab.keepDefault } } } } function writeInPreview(a) { if (previewWindow.document) { try { sp = previewWindow.document.documentElement.scrollTop } catch (b) { sp = 0 } previewWindow.document.open(); previewWindow.document.write(a); previewWindow.document.close(); previewWindow.document.documentElement.scrollTop = sp } } function renderPreview() { var a; if (options.previewParser && typeof options.previewParser === "function") { var b = options.previewParser($$.val()); writeInPreview(localize(b, 1)) } else if (options.previewParserPath !== "") { var c = $$.val().replace(/'/gm, "&#39;"); $.ajax({ type: "POST", contentType: "application/json; charset=utf-8", dataType: "json", global: false, url: options.previewParserPath, data: "{'" + options.previewParserVar + "': '" + encodeURIComponent($$.val().replace(/'/gm, "&#39;")) + "'}", success: function (a) { writeInPreview(localize(a.d, 1)) }, error: function (a, b) { if (b == "timeout") { alert("The request timed out, please resubmit") } else { alert("ERROR: " + decodeURIComponent(a.responseText)) } } }) } else { if (!template) { $.ajax({ url: options.previewTemplatePath, dataType: "text", global: false, success: function (a) { writeInPreview(localize(a, 1).replace(/<!-- content -->/g, $$.val())) } }) } } return false } function refreshPreview() { renderPreview() } function preview() { if (!previewWindow || previewWindow.closed) { if (options.previewInWindow) { previewWindow = window.open("", "preview", options.previewInWindow); $(window).unload(function () { previewWindow.close() }) } else { iFrame = $('<iframe class="markItUpPreviewFrame"></iframe>'); if (options.previewPosition == "after") { iFrame.insertAfter(footer) } else { iFrame.insertBefore(header) } previewWindow = iFrame[iFrame.length - 1].contentWindow || frame[iFrame.length - 1] } } else if (altKey === true) { if (iFrame) { iFrame.remove() } else { previewWindow.close() } previewWindow = iFrame = false } if (!options.previewAutoRefresh) { refreshPreview() } if (options.previewInWindow) { previewWindow.focus() } } function get() { textarea.focus(); scrollPosition = textarea.scrollTop; if (document.selection) { selection = document.selection.createRange().text; if ($.browser.msie) { var a = document.selection.createRange(), b = a.duplicate(); b.moveToElementText(textarea); caretPosition = -1; while (b.inRange(a)) { b.moveStart("character"); caretPosition++ } } else { caretPosition = textarea.selectionStart } } else { caretPosition = textarea.selectionStart; selection = textarea.value.substring(caretPosition, textarea.selectionEnd) } return selection } function set(a, b) { if (textarea.createTextRange) { if ($.browser.opera && $.browser.version >= 9.5 && b == 0) { return false } range = textarea.createTextRange(); range.collapse(true); range.moveStart("character", a); range.moveEnd("character", b); range.select() } else if (textarea.setSelectionRange) { textarea.setSelectionRange(a, a + b) } textarea.scrollTop = scrollPosition; textarea.focus() } function insert(a) { if (document.selection) { var b = document.selection.createRange(); b.text = a } else { textarea.value = textarea.value.substring(0, caretPosition) + a + textarea.value.substring(caretPosition + selection.length, textarea.value.length) } } function fixIeBug(a) { if ($.browser.msie) { return a.length - a.replace(/\r*/g, "").length } return 0 } function fixOperaBug(a) { if ($.browser.opera) { return a.length - a.replace(/\n*/g, "").length } return 0 } function markup(a) { var b, c, d, e; hash = clicked = a; get(); $.extend(hash, { line: "", root: options.root, textarea: textarea, selection: selection || "", caretPosition: caretPosition, ctrlKey: ctrlKey, shiftKey: shiftKey, altKey: altKey }); prepare(options.beforeInsert); prepare(clicked.beforeInsert); if (ctrlKey === true && shiftKey === true || a.multiline === true) { prepare(clicked.beforeMultiInsert) } $.extend(hash, { line: 1 }); if (ctrlKey === true && shiftKey === true) { lines = selection.split(/\r?\n/); for (c = 0, d = lines.length, e = 0; e < d; e++) { if ($.trim(lines[e]) !== "") { $.extend(hash, { line: ++c, selection: lines[e] }); lines[e] = build(lines[e]).block } else { lines[e] = "" } } string = { block: lines.join("\n") }; start = caretPosition; b = string.block.length + ($.browser.opera ? d - 1 : 0) } else if (ctrlKey === true) { string = build(selection); start = caretPosition + string.openWith.length; b = string.block.length - string.openWith.length - string.closeWith.length; b = b - (string.block.match(/ $/) ? 1 : 0); b -= fixIeBug(string.block) } else if (shiftKey === true) { string = build(selection); start = caretPosition; b = string.block.length; b -= fixIeBug(string.block) } else { string = build(selection); start = caretPosition + string.block.length; b = 0; start -= fixIeBug(string.block) } if (selection === "" && string.replaceWith === "") { caretOffset += fixOperaBug(string.block); start = caretPosition + string.openWith.length; b = string.block.length - string.openWith.length - string.closeWith.length; caretOffset = $$.val().substring(caretPosition, $$.val().length).length; caretOffset -= fixOperaBug($$.val().substring(0, caretPosition)) } $.extend(hash, { caretPosition: caretPosition, scrollPosition: scrollPosition }); if (string.block !== selection && abort === false) { insert(string.block); set(start, b) } else { caretOffset = -1 } get(); $.extend(hash, { line: "", selection: selection }); if (ctrlKey === true && shiftKey === true || a.multiline === true) { prepare(clicked.afterMultiInsert) } prepare(clicked.afterInsert); prepare(options.afterInsert); if (previewWindow && options.previewAutoRefresh) { refreshPreview() } shiftKey = altKey = ctrlKey = abort = false } function build(a) { var b = prepare(clicked.openWith); var c = prepare(clicked.placeHolder); var d = prepare(clicked.replaceWith); var e = prepare(clicked.closeWith); var f = prepare(clicked.openBlockWith); var g = prepare(clicked.closeBlockWith); var h = clicked.multiline; if (d !== "") { block = b + d + e } else if (selection === "" && c !== "") { block = b + c + e } else { a = a || selection; var i = selection.split(/\r?\n/), j = []; for (var k = 0; k < i.length; k++) { line = i[k]; var l; if (l = line.match(/ *$/)) { j.push(b + line.replace(/ *$/g, "") + e + l) } else { j.push(b + line + e) } } block = j.join("\n") } block = f + block + g; return { block: block, openWith: b, replaceWith: d, placeHolder: c, closeWith: e } } function prepare(a) { if ($.isFunction(a)) { a = a(hash) } return magicMarkups(a) } function magicMarkups(a) { if (a) { a = a.toString(); a = a.replace(/\(\!\(([\s\S]*?)\)\!\)/g, function (a, b) { var c = b.split("|!|"); if (altKey === true) { return c[1] !== undefined ? c[1] : c[0] } else { return c[1] === undefined ? "" : c[0] } }); a = a.replace(/\[\!\[([\s\S]*?)\]\!\]/g, function (a, b) { var c = b.split(":!:"); if (abort === true) { return false } value = prompt(c[0], c[1] ? c[1] : ""); if (value === null) { abort = true } return value }); return a } return "" } function dropMenus(markupSet) { var ul = $("<ul></ul>"), i = 0; $("li:hover > ul", ul).css("display", "block"); $.each(markupSet, function () { var button = this, t = "", title, li, j; title = button.key ? (button.name || "") + " [Ctrl+" + button.key + "]" : button.name || ""; key = button.key ? 'accesskey="' + button.key + '"' : ""; if (button.separator) { li = $('<li class="markItUpSeparator">' + (button.separator || "") + "</li>").appendTo(ul) } else { i++; for (j = levels.length - 1; j >= 0; j--) { t += levels[j] + "-" } li = $('<li class="markItUpButton markItUpButton' + t + i + " " + (button.className || "") + '"><a href="" ' + key + ' title="' + title + '">' + (button.name || "") + "</a></li>").bind("contextmenu", function () { return false }).click(function () { return false }).bind("focusin", function () { $$.focus() }).mouseup(function () { if (button.call) { eval(button.call)() } setTimeout(function () { markup(button) }, 1); return false }).hover(function () { $("> ul", this).show(); $(document).one("click", function () { $("ul ul", header).hide() }) }, function () { $("> ul", this).hide() }).appendTo(ul); if (button.dropMenu) { levels.push(i); $(li).addClass("markItUpDropMenu").append(dropMenus(button.dropMenu)) } } }); levels.pop(); return ul } function init() { id = ""; nameSpace = ""; if (options.id) { id = 'id="' + options.id + '"' } else if ($$.attr("id")) { id = 'id="markItUp' + $$.attr("id").substr(0, 1).toUpperCase() + $$.attr("id").substr(1) + '"' } if (options.nameSpace) { nameSpace = 'class="' + options.nameSpace + '"' } $$.wrap("<div " + nameSpace + "></div>"); $$.wrap("<div " + id + ' class="markItUp"></div>'); $$.wrap('<div class="markItUpContainer"></div>'); $$.addClass("markItUpEditor"); header = $('<div class="markItUpHeader"></div>').insertBefore($$); $(dropMenus(options.markupSet)).appendTo(header); footer = $('<div class="markItUpFooter"></div>').insertAfter($$); if (options.resizeHandle === true && $.browser.safari !== true) { resizeHandle = $('<div class="markItUpResizeHandle"></div>').insertAfter($$).bind("mousedown", function (a) { var b = $$.height(), c = a.clientY, d, e; d = function (a) { $$.css("height", Math.max(20, a.clientY + b - c) + "px"); return false }; e = function (a) { $("html").unbind("mousemove", d).unbind("mouseup", e); return false }; $("html").bind("mousemove", d).bind("mouseup", e) }); footer.append(resizeHandle) } $$.keydown(keyPressed).keyup(keyPressed); $$.bind("insertion", function (a, b) { if (b.target !== false) { get() } if (textarea === $.markItUp.focused) { markup(b) } }); $$.focus(function () { $.markItUp.focused = this }) } function localize(a, b) { if (b) { return a.replace(/("|')~\//g, "$1" + options.root) } return a.replace(/^~\//, options.root) } var $$, textarea, levels, scrollPosition, caretPosition, caretOffset, clicked, hash, header, footer, previewWindow, template, iFrame, abort; $$ = $(this); textarea = this; levels = []; abort = false; scrollPosition = caretPosition = 0; caretOffset = -1; options.previewParserPath = localize(options.previewParserPath); options.previewTemplatePath = localize(options.previewTemplatePath); init() }) }; $.fn.markItUpRemove = function () { return this.each(function () { var a = $(this).unbind().removeClass("markItUpEditor"); a.parent("div").parent("div.markItUp").parent("div").replaceWith(a) }) }; $.markItUp = function (a) { var b = { target: false }; $.extend(b, a); if (b.target) { return $(b.target).each(function () { $(this).focus(); $(this).trigger("insertion", [b]) }) } else { $("textarea").trigger("insertion", [b]) } } })(jQuery); mySettings = { previewInWindow: "width=800,height=350,resizable=yes,scrollbars=yes", previewParserPath: "/Content/Forums/Post.aspx/ParseForumCode", previewTemplatePath: "~/templates/preview.html", markupSet: [{ name: "Bold", key: "B", openWith: "[b]", closeWith: "[/b]" }, { name: "Italic", key: "I", openWith: "[i]", closeWith: "[/i]" }, { name: "Underline", key: "U", openWith: "[u]", closeWith: "[/u]" }, { name: "StrikeThrough", key: "K", openWith: "[s]", closeWith: "[/s]" }, { name: "Colors", className: "colors", openWith: "[color=[![Color]!]]", closeWith: "[/color]", dropMenu: [{ name: "Yellow", openWith: "[yellow]", closeWith: "[/yellow]", className: "col1-1" }, { name: "Gold", openWith: "[gold]", closeWith: "[/gold]", className: "col1-2" }, { name: "Orange", openWith: "[orange]", closeWith: "[/orange]", className: "col1-3" }, { name: "Red", openWith: "[red]", closeWith: "[/red]", className: "col1-4" }, { name: "Purple", openWith: "[purple]", closeWith: "[/purple]", className: "col2-1" }, { name: "Green", openWith: "[green]", closeWith: "[/green]", className: "col2-2" }, { name: "White", openWith: "[white]", closeWith: "[/white]", className: "col2-3" }, { name: "Gray", openWith: "[gray]", closeWith: "[/gray]", className: "col2-4" }, { name: "Black", openWith: "[black]", closeWith: "[/black]", className: "col3-1" }, { name: "Navy", openWith: "[navy]", closeWith: "[/navy]", className: "col3-2" }, { name: "Blue", openWith: "[blue]", closeWith: "[/blue]", className: "col3-3" }, { name: "Pink", openWith: "[pink]", closeWith: "[/pink]", className: "col3-4" }] }, { separator: "---------------" }, { name: "Left", openWith: "[left]", closeWith: "[/left]" }, { name: "Center", openWith: "[center]", closeWith: "[/center]" }, { name: "Right", openWith: "[right]", closeWith: "[/right]" }, { separator: "---------------" }, { name: "Image tags", key: "P", openWith: "(!([img]|!|[img][![Url:!:http://]!])!)", closeWith: "[/img]" }, { name: "Upload Image", className: "upload", call: "ShowUpload" }, { name: "Browse Images", className: "browse", call: "ShowImageBrowser" }, { separator: "---------------" }, { name: "Link", key: "L", openWith: '(!([url]|!|[url="[![Url:!:http://]!]"])!)', closeWith: "[/url]" }, { name: "Email", key: "E", openWith: '[mail="[![Email:!:mailto:]!]"]', closeWith: "[/mail]", placeHolder: "Text to display here..." }, { separator: "---------------" }, { name: "Size", key: "S", openWith: "[size=[![Text size]!]]", closeWith: "[/size]", dropMenu: [{ name: "Large", openWith: "[size=4]", closeWith: "[/size=4]" }, { name: "Small", openWith: "[size=3]", closeWith: "[/size=3]" }, { name: "x-Small", openWith: "[size=2]", closeWith: "[/size-2]" }] }, { separator: "---------------" }, { name: "Bulleted list", openWith: "[*]", closeWith: "[/*]", multiline: true, openBlockWith: "[list]\n", closeBlockWith: "\n[/list]" }, { name: "Numeric list", openWith: "[*]", closeWith: "[/*]", multiline: true, openBlockWith: "[list=[![Type:!:1]!],[![Starting number]!]]\n", closeBlockWith: "\n[/list=o]" }, { name: "List item", openWith: "[*] ", closeWith: "[/*]" }, { separator: "---------------" }, { name: "Quotes", openWith: "[quote]", closeWith: "[/quote]" }, { name: "Code", openWith: "", closeWith: "", multiline: true, openBlockWith: "[code]\n", closeBlockWith: "\n[/code]" }, { name: "Table", openWith: "[table]", closeWith: "[/table]", placeHolder: "[tr][(!(td|!|th)!)][/(!(td|!|th)!)][/tr]", dropMenu: [{ name: "Row", openWith: "[tr]", closeWith: "[/tr]", placeHolder: "[(!(td|!|th)!)][/(!(td|!|th)!)]" }, { name: "Column Td/Th", openWith: "[(!(td|!|th)!)]", closeWith: "[/(!(td|!|th)!)]" }] }, { name: "YouTube", className: "youtube", openWith: '[video="[![YouTube video id]!]"]', closeWith: "[/video]", placeHolder: "Video Description" }, { name: "Direction", className: "textdir", openWith: "[(!(ltr|!|rtl)!)]", closeWith: "[/(!(ltr|!|rtl)!)]" }, { separator: "---------------" }, { name: "Clean", className: "clean", replaceWith: function (a) { return a.selection.replace(/\[(.*?)\]/g, "") } }, { name: "Preview", className: "preview", call: "preview" }, { name: "Spellcheck", className: "spellcheck", dropMenu: [{ name: "English", beforeInsert: function (a) { miuSpellchecker(a, "en") } }, { name: "French", beforeInsert: function (a) { miuSpellchecker(a, "fr") } }, { name: "Dutch", beforeInsert: function (a) { miuSpellchecker(a, "nl") } }, { name: "German", beforeInsert: function (a) { miuSpellchecker(a, "de") } }] }] }