var net = new Object; net.READY_STATE_UNINITIALIZED = 0; net.READY_STATE_LOADING = 1; net.READY_STATE_LOADED = 2; net.READY_STATE_INTERACTIVE = 3; net.READY_STATE_COMPLETE = 4; net.ContentLoader = function (e, t, n, r, i, s) { this.req = null; this.onload = t; this.onerror = n ? n : this.defaultError; this.loadXMLDoc(e, r, i, s) }; net.ContentLoader.prototype.loadXMLDoc = function (e, t, n, r) { if (!t) { t = "GET" } if (!r && t == "POST") { r = "application/x-www-form-urlencoded" } if (window.XMLHttpRequest) { this.req = new XMLHttpRequest } else if (window.ActiveXObject) { this.req = new ActiveXObject("Microsoft.XMLHTTP") } if (this.req) { try { var i = this; this.req.onreadystatechange = function () { net.ContentLoader.onReadyState.call(i) }; this.req.open(t, e, true); if (r) { this.req.setRequestHeader("Content-Type", r) } this.req.send(n) } catch (s) { this.onerror.call(this) } } }; net.ContentLoader.onReadyState = function () { var e = this.req; var t = e.readyState; if (t == net.READY_STATE_COMPLETE) { var n = e.status; if (n == 200 || n == 0) { this.onload.call(this) } else { this.onerror.call(this) } } }; net.ContentLoader.prototype.defaultError = function () { alert("error fetching data!" + "\n\nreadyState:" + this.req.readyState + "\nstatus: " + this.req.status + "\nheaders: " + this.req.getAllResponseHeaders()) }