(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(a){a.timeago=function(h){if(h instanceof Date){return e(h)}else{if(typeof h==="string"){return e(a.timeago.parse(h))}else{if(typeof h==="number"){return e(new Date(h))}else{return e(a.timeago.datetime(h))}}}};var b=a.timeago;a.extend(a.timeago,{settings:{refreshMillis:60000,allowPast:true,allowFuture:false,localeTitle:false,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(j){if(!this.settings.allowPast&&!this.settings.allowFuture){throw"timeago allowPast and allowFuture settings can not both be set to false."}var h=this.settings.strings;var m=h.prefixAgo;var q=h.suffixAgo;if(this.settings.allowFuture){if(j<0){m=h.prefixFromNow;q=h.suffixFromNow}}if(!this.settings.allowPast&&j>=0){return this.settings.strings.inPast}var n=Math.abs(j)/1000;var l=n/60;var k=l/60;var i=k/24;var s=i/365;function p(v,t){var u=a.isFunction(v)?v(t,j):v;var w=(h.numbers&&h.numbers[t])||t;return u.replace(/%d/i,w)}var r=n<45&&p(h.seconds,Math.round(n))||n<90&&p(h.minute,1)||l<45&&p(h.minutes,Math.round(l))||l<90&&p(h.hour,1)||k<24&&p(h.hours,Math.round(k))||k<42&&p(h.day,1)||i<30&&p(h.days,Math.round(i))||i<45&&p(h.month,1)||i<365&&p(h.months,Math.round(i/30))||s<1.5&&p(h.year,1)||p(h.years,Math.round(s));var o=h.wordSeparator||"";if(h.wordSeparator===undefined){o=" "}return a.trim([m,r,q].join(o))},parse:function(h){var i=a.trim(h);i=i.replace(/\.\d+/,"");i=i.replace(/-/,"/").replace(/-/,"/");i=i.replace(/T/," ").replace(/Z/," UTC");i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");i=i.replace(/([\+\-]\d\d)$/," $100");return new Date(i)},datetime:function(h){var i=b.isTime(h)?a(h).attr("datetime"):a(h).attr("title");return b.parse(i)},isTime:function(h){return a(h).get(0).tagName.toLowerCase()==="time"}});var d={init:function(){var i=a.proxy(g,this);i();var h=b.settings;if(h.refreshMillis>0){this._timeagoInterval=setInterval(i,h.refreshMillis)}},update:function(i){var h=b.parse(i);a(this).data("timeago",{datetime:h});if(b.settings.localeTitle){a(this).attr("title",h.toLocaleString())}g.apply(this)},updateFromDOM:function(){a(this).data("timeago",{datetime:b.parse(b.isTime(this)?a(this).attr("datetime"):a(this).attr("title"))});g.apply(this)},dispose:function(){if(this._timeagoInterval){window.clearInterval(this._timeagoInterval);this._timeagoInterval=null}}};a.fn.timeago=function(h,j){var i=h?d[h]:d.init;if(!i){throw new Error("Unknown function name '"+h+"' for timeago")}this.each(function(){i.call(this,j)});return this};function g(){var i=f(this);var h=b.settings;if(!isNaN(i.datetime)){if(h.cutoff==0||Math.abs(c(i.datetime))<h.cutoff){a(this).text(e(i.datetime))}}return this}function f(h){h=a(h);if(!h.data("timeago")){h.data("timeago",{datetime:b.datetime(h)});var i=a.trim(h.text());if(b.settings.localeTitle){h.attr("title",h.data("timeago").datetime.toLocaleString())}else{if(i.length>0&&!(b.isTime(h)&&h.attr("title"))){h.attr("title",i)}}}return h.data("timeago")}function e(h){return b.inWords(c(h))}function c(h){return(new Date().getTime()-h.getTime())}document.createElement("abbr");document.createElement("time")}));